<!doctype HTML>
<html>
    <head>
        <title>Hurr</title>
        <style type="text/css">
            img.center {
                position: absolute;
            }

        </style>
        <script type="text/javascript">
	    function onload() {
		var hash = location.hash
		console.debug("Hash: " + hash);
		if (hash) {
		    var split = hash.slice(1).split(",")
	            if (split.length == 2) {
			document.getElementById("hue").value = split[0]
			document.getElementById("sat").value = split[1]
			console.debug("setting: " + split);
			updateSlider(split[0], split[1]);
			return;
		    }
		}
		updateSlider();
	    }

            function updateSlider(hue, sat) {
		if (!hue)
		    var hue = document.getElementById("hue").value
		if (!sat)
	            var sat = document.getElementById("sat").value
		console.debug("hue: " + hue + " sat: " + sat);
		var value = "saturate(" + sat + "%) hue-rotate(" + hue + "deg)";
                document.getElementById("hair").style.filter = value;
                document.getElementById("hair").style.webkitFilter = value;
		window.location.hash = hue + "," + sat

            }
        </script>
    </head>
    <body onload="onload()" style="height: 100%">
	<div style="height: 10%">
	    <div id="hue-slider">
		Hue: <input id="hue" type="range"
		 min="-180" max="180" step="5" value="0"
		  oninput="updateSlider()" onchange="updateSlider()"/>
	    </div>
	    <div id="sat-slider">
		Sat: <input id="sat" type="range"
		 min="0" max="300" step="5" value="100"
		  oninput="updateSlider()" onchange="updateSlider()"/>
	    </div>
	</div>
	<div style="height: 90%">
	    <img id="ellie" class="center" src="./ellie.jpg" alt="ellie" style="height: 100%">
	    <img id="hair" class="center" src="./hair.png" alt="hair" style="height: 100%">
	</div>

</div>
    </body>
</html>
