<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Stochastic testing for intent-influenced programming"><meta name="keywords" content="rust, rustlang, rust-lang, thaumtest"><title>thaumtest in cold_iron - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script id="default-settings"></script><script src="../storage.js"></script><script src="../crates.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../favicon.svg">
<link rel="alternate icon" type="image/png" href="../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc macro"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../cold_iron/index.html'><div class='logo-container rust-logo'><img src='../rust-logo.png' alt='logo'></div></a><div class="sidebar-elems"><h2 class="location">Other items in<br><a href="index.html">cold_iron</a></h2><div id="sidebar-vars" data-name="thaumtest" data-ty="macro" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img src="../brush.svg" width="18" height="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../settings.html" title="settings"><img src="../wheel.svg" width="18" height="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Macro <a href="index.html">cold_iron</a>::<wbr><a class="macro" href="#">thaumtest</a><button id="copy-path" onclick="copy_path(this)" title="copy path"><img src="../clipboard.svg" width="19" height="18" alt="Copy item import" title="Copy item import to clipboard"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></span></h1><div class="docblock type-decl"><div class="example-wrap"><pre class="rust macro">
<span class="macro">macro_rules!</span> <span class="ident">thaumtest</span> {
    (<span class="ident">success</span>, <span class="ident">failure</span>) <span class="op">=</span><span class="op">&gt;</span> { ... };
}</pre></div>
</div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Stochastic testing for intent-influenced programming</p>
<p>testing is an essential part of writing good software. Computers are obedient to a fault, and that means well-tested code is much more likely to be correct code.</p>
<p>Thaumatic programming, however, presents a conundrum. Magic, to some extent, cares more about intent than precision. If you think your code is going to work, it likely will. Is testing therefore not needed? Everything should simply work on a first try, no?</p>
<p>Alas, it is not that simple. Even the most confident programmer knows themselves to be fallible, and as a result, mistakes will creep in. Nobody quite understands the mechanism by which intent becomes Direction, but it’s clearly not a perfect system.</p>
<p>Should we then despair? Fortunately, not that either. coldiron has a remarkable solution to this problem: double-blind testing.</p>
<p>Simply put, you write two sets of tests: one that should pass, and one that should never pass. When you run <code>cargo test</code>, it will randomly select one of these sets to run. The test runner itself has no idea which set of tests its running, by design this information is limited to the coldiron runner. It runs each test several times, such that one can be sure both pass and fail suites have been executed at least once. At that point, the only portion of intent for the Direction is that of the code itself, now known to be correct (or incorrect).</p>
<p>For more information, see the examples directory, or the <code>thaumtest!</code> macro below.
thaumtest marks a test as thaumaturgic, and therefore needing stoichastic implementation.
You should provide two functions, with the same name:
One that should always pass, and one that should never pass.</p>
</div></details></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../" data-current-crate="cold_iron" data-search-index-js="../search-index.js" data-search-js="../search.js"></div><script src="../main.js"></script></body></html>